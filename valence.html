<!DOCTYPE html>
<html>
<head>
<script>
    /** @type {array<string>} */
    let names = [];

    /** @type {map<string, map<string, int>>} */
    let valences = new Map();

    function getValence(observer, object) {
        return valences.get(observer).get(object);
    }

    function setValence(observer, object, n) {
        valences.get(observer).set(object, n)
    }

    function transformValence(observer, object, func) {
        let valence = getValence(observer, object);
        setValence(observer, object, func(valence));
    }

    function addName(name) {
        valences.set(name, new Map())
        for (object of names) {
            setValence(name, object, 0)
        }
        for (observer of names) {
            setValence(observer, name, 0)
        }
        names.push(name);
    }

    function render() {
        let table = document.getElementById("valenceTable");
        table.replaceChildren();
        let trHead = document.createElement("tr");
        table.appendChild(trHead);
        let empty = document.createElement("th");
        trHead.appendChild(empty);
        for (object of names) {
            let th = document.createElement("th");
            trHead.appendChild(th);
            th.innerText = object;
        }
        for (observer of names) {
            let tr = document.createElement("tr");
            table.appendChild(tr);
            let th = document.createElement("th");
            tr.appendChild(th);
            th.innerText = observer;
            for (object of names) {
                let td = document.createElement("td");
                tr.appendChild(td);
                td.innerText = getValence(observer, object);
            }
        }
    }
    

    // table of all valence scores
    // select a person
    // show all valence scores
    // allow editing valence scores
    // jitter button
    // jitter all button
</script>
</head>
<body>
<table>

</table>
</body>
</html>