<!DOCTYPE html>
<html>
<head>
<style>
    body {
        background-image: url('media/parchment.jpg');
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: cover;
        font-family: 'URW Chancery L', 'Brush Script MT', cursive;
        font-size: xx-large;
        text-align: center;
    }
</style>

<script>
    onload = function() {
        const params = new URLSearchParams(location.search)
        const encodedData = params.get("x")
        const jsonData = atob(params.get("x"))
        console.log("json data: " + jsonData)
        const data = JSON.parse(atob((params.get("x"))))
        let seconds = data.seconds
        let text = data.text

        document.getElementById("timer").textContent = "You have " + seconds + " seconds."
        document.getElementById("text").textContent = text

        function updateTimer() {
            seconds--
            document.getElementById("timer").textContent = "You have " + seconds + " seconds."
        }
        setInterval(updateTimer, 1000);
    }
</script>
</head>

<body>
    <p id="text"></p>
    <p id="timer"></p>
</body>
</html>